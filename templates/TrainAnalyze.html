<!DOCTYPE html>
<html lang="zxx">
<head>
	<title>小伙冲冲冲|训练集分析</title>
	<meta charset="UTF-8">

	<meta name="keywords" content="photo, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<!-- Stylesheets -->
	<link rel="stylesheet" href={{ url_for('static',filename='css/bootstrap.min.css')}}>
	<link rel="stylesheet" href={{ url_for('static',filename='css/font-awesome.min.css')}}>
	<link rel="stylesheet" href={{ url_for('static',filename='css/slicknav.min.css')}}>

	<!-- Main Stylesheets -->
	<link rel="stylesheet" href={{ url_for('static',filename='css/style.css')}}>
	
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
            <![endif]-->
    <style>
        #Topo>div,#Sankit>div, #Pie>div, #Line>div,.search-model>div{
            box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.2), 0 5px 16px 0 rgba(0, 0, 0, 0.19);
            solid-color: aquamarine;
        }
    </style>
</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header Section -->
	<header class="header">
		<div class="row" style="padding-bottom: 0px;margin-bottom: 0px;">
			<div class="col-sm-4 col-md-3 order-2 order-sm-1">
				<div class="header__social">
					<a href="#"><i class="fa fa-circle"></i></a>
					<a href="#"><i class="fa fa-circle-o-notch"></i></a>
					<a href="#"><i class="fa fa-circle-thin"></i></a>
					
				</div>
			</div>
			<div class="col-sm-4 col-md-6 order-1  order-md-2 text-center">
				<a href="./index.html">
					<img src="../static/img/logo/logo3.png" />
				</a>	
			</div>
			<div class="col-sm-4 col-md-3 order-3 order-sm-3">
				<div class="header__switches">
					<a href="#"><i class="fa fa-circle-thin"></i></a>
					<a href="#"><i class="fa fa-circle-o-notch"></i></a>
					<a href="#"><i class="fa fa-circle"></i></a>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<nav class="main__menu">
				<ul class="nav__menu">
					<li><a href="/" style="fontSize:30px;">功能目录</a></li>
          <li><a href="/shows" >数据概览</a></li>
					<li><a href="/trainSet" class="menu--active">训练集分析</a></li>
					<li><a href="/test">测试集结果</a></li>
				</ul>
			</nav>
{#   <div id="info" style="width: 100%;align-content:center;height: 50px; padding: 1.5%;">#}
{#		<div id="FileName" style="width: 20%; height: 100%; float: left;font-family:'Arimo',sans-serif;">文件名</div>#}
{#		<div id="NodeName" style="width: 20%; height: 100%;float: left;font-family:'Arimo',sans-serif;">根因节点名</div>#}
{#		<div id="TriggerName" style="width:40%; height: 100%;float: left;font-family:'Arimo',sans-serif;">告警类型信息</div>#}
{#	</div>#}
		</div>
	</header>
	<!-- Header Section end -->

	<div class="blog__single__page">
	<!-- 第一行 -->
	<div id="Search-WordCloud" style="width: 100%; height: 150px; padding: 1.5% 1.5% 0.5%;">
		<div id="Search" style="width: 10%; height: 100%; border:2px solid #cceff5; float: left;"   >
			<div id='sreac' style="width: 100%; height: 100% line-height: 100%; text-align: center;line-height:100%;">
			<a href="#" class="search-switch"><i class="fa fa-search" style="font-size: 105px;"></i></a>
			</div>
		</div>
		<div id="WordCloud" style="width: 90%; height: 100%;  float: left;border:1.5px solid #cceff5;">
			<div id="nodeCloud" style="width: 50%;height: 100% ; float: left;"></div>
			<div id="triggerCloud" style="width: 50%; height: 100%; float: left;"></div>
		</div>
	</div>
	
	<!-- 第二、三行 -->
	<div id='Topo' style="width: 100%; height: 600px; padding: 0.5% 1.5% ;">
		<div id="Ztopo" style="width: 59%; height:100%; float: left;"></div>
        <div id="Jtopo" style="margin-left: 1%;width: 40%; height:100%; float: left;"></div>
	</div>
	<div id='Sankit' style="width: 100%; height: 400px; padding: 0.5% 1.5%;">
		<div id="Zero" style="width: 14%; height: 100%; float: left;" >节点桑基图0</div>
		<div id="One" style="width: 44%;margin-left: 1%; height: 100%; float: left;" >节点桑基图1</div>
		<div id="Two" style="width: 40%; height: 100%; float: right;" >节点桑基图2</div>
    </div>

	<!-- 第四行 -->
	<div id="Node-Trigger-xuri" style="width: 100%; height: 600px; padding: 0.5% 1.5%;">
		<div id="xuri" style="width: 70%;height: 100%; float: left;"></div>
		<div id="Pie" style="width: 30%;height: 100%; float: left;">
			<div id="nodePie" style="width: 100%;height:49%; margin: 0.5% 0"></div>
			<div id="triggerPie" style="width: 100%;height:49%; margin:0.5% 0"></div>
		</div>
	</div>
	
	<!-- 第五行 -->
	<div id="Line" style="width: 100%; height: 300px; padding: 0.5% 1.5%;z-index:222;">
		<div id="moveLine" style="width: 100%;height: 100%;"></div>
	</div>
    </div>

	<!-- Footer Section -->
	<footer class="footer__section">
		<div class="container">
			<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
			<!-- <div class="footer__copyright__text">
				<p>Copyright &copy; <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
			</div> -->
			<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
		</div>
	</footer>
	<!-- Footer Section end -->

	<!-- Search Begin -->
	<div id="search" class="search-model">
		<div class="h-100 d-flex align-items-center justify-content-center">
			<div class="search-close-switch">+</div>
			<span class="search-model-form">
				<input type="text" id="search-input" onkeypress="EnterPress()" onkeydown="EnterPress()" placeholder="请输入训练集文件名(0-99)">
			</span>
		</div>
	</div>
	<!-- Search End -->

	<!--====== Javascripts & Jquery ======-->
    <script type="text/javascript" charset="utf8" src={{ url_for('static',filename="js/vendor/jquery-3.2.1.min.js") }}></script>
    <script src={{ url_for('static',filename='js/echarts.min.js') }}></script>
	<script src={{ url_for('static',filename='js/walden.js') }}></script>
    <script src={{ url_for('static',filename='js/jquery-3.5.1.min.js') }}></script>
    <script src={{ url_for('static',filename='js/worldcloud.js') }}></script>
    <script type="text/javascript" charset="utf8" src={{ url_for('static',filename='js/jquery.slicknav.min.js') }}></script>
    <script type="text/javascript" charset="utf8" src={{ url_for('static',filename='js/slick.min.js') }}></script>
    <script type="text/javascript" charset="utf8" src={{ url_for('static',filename='js/main.js') }}></script>
	</body>
<script type="text/javascript">
    var intervals = null;
    var myalllink=
        [{'target': '4', 'source': '50'},
 {'target': '83', 'source': '50'},
 {'target': '33', 'source': '50'},
 {'target': '17', 'source': '50'},
 {'target': '4', 'source': '0'},
 {'target': '83', 'source': '0'},
 {'target': '33', 'source': '0'},
 {'target': '17', 'source': '0'},
 {'target': '4', 'source': '58'},
 {'target': '83', 'source': '58'},
 {'target': '33', 'source': '58'},
 {'target': '17', 'source': '58'},
 {'target': '31', 'source': '4'},
 {'target': '15', 'source': '4'},
 {'target': '73', 'source': '4'},
 {'target': '93', 'source': '4'},
 {'target': '31', 'source': '83'},
 {'target': '15', 'source': '83'},
 {'target': '73', 'source': '83'},
 {'target': '93', 'source': '83'},
 {'target': '31', 'source': '33'},
 {'target': '15', 'source': '33'},
 {'target': '73', 'source': '33'},
 {'target': '93', 'source': '33'},
 {'target': '31', 'source': '17'},
 {'target': '15', 'source': '17'},
 {'target': '73', 'source': '17'},
 {'target': '93', 'source': '17'},
 {'target': '37', 'source': '70'},
 {'target': '55', 'source': '70'},
 {'target': '21', 'source': '70'},
 {'target': '37', 'source': '30'},
 {'target': '55', 'source': '30'},
 {'target': '21', 'source': '30'},
 {'target': '37', 'source': '45'},
 {'target': '55', 'source': '45'},
 {'target': '21', 'source': '45'},
 {'target': '18', 'source': '37'},
 {'target': '7', 'source': '37'},
 {'target': '99', 'source': '37'},
 {'target': '8', 'source': '37'},
 {'target': '91', 'source': '37'},
 {'target': '18', 'source': '55'},
 {'target': '7', 'source': '55'},
 {'target': '99', 'source': '55'},
 {'target': '8', 'source': '55'},
 {'target': '91', 'source': '55'},
 {'target': '18', 'source': '21'},
 {'target': '7', 'source': '21'},
 {'target': '99', 'source': '21'},
 {'target': '8', 'source': '21'},
 {'target': '91', 'source': '21'},
 {'target': '28', 'source': '57'},
 {'target': '3', 'source': '57'},
 {'target': '97', 'source': '57'},
 {'target': '28', 'source': '20'},
 {'target': '3', 'source': '20'},
 {'target': '97', 'source': '20'},
 {'target': '39', 'source': '28'},
 {'target': '86', 'source': '28'},
 {'target': '94', 'source': '28'},
 {'target': '39', 'source': '3'},
 {'target': '86', 'source': '3'},
 {'target': '94', 'source': '3'},
 {'target': '39', 'source': '97'},
 {'target': '86', 'source': '97'},
 {'target': '94', 'source': '97'},
 {'target': '62', 'source': '72'},
 {'target': '77', 'source': '72'},
 {'target': '62', 'source': '34'},
 {'target': '77', 'source': '34'},
 {'target': '62', 'source': '81'},
 {'target': '77', 'source': '81'},
 {'target': '62', 'source': '36'},
 {'target': '77', 'source': '36'},
 {'target': '69', 'source': '62'},
 {'target': '13', 'source': '62'},
 {'target': '9', 'source': '62'},
 {'target': '19', 'source': '62'},
 {'target': '27', 'source': '62'},
 {'target': '5', 'source': '62'},
 {'target': '69', 'source': '77'},
 {'target': '13', 'source': '77'},
 {'target': '9', 'source': '77'},
 {'target': '19', 'source': '77'},
 {'target': '27', 'source': '77'},
 {'target': '5', 'source': '77'},
 {'target': '65', 'source': '14'},
 {'target': '2', 'source': '14'},
 {'target': '76', 'source': '14'},
 {'target': '38', 'source': '14'},
 {'target': '65', 'source': '26'},
 {'target': '2', 'source': '26'},
 {'target': '76', 'source': '26'},
 {'target': '38', 'source': '26'},
 {'target': '82', 'source': '65'},
 {'target': '60', 'source': '65'},
 {'target': '6', 'source': '65'},
 {'target': '74', 'source': '65'},
 {'target': '85', 'source': '65'},
 {'target': '82', 'source': '2'},
 {'target': '60', 'source': '2'},
 {'target': '6', 'source': '2'},
 {'target': '74', 'source': '2'},
 {'target': '85', 'source': '2'},
 {'target': '82', 'source': '76'},
 {'target': '60', 'source': '76'},
 {'target': '6', 'source': '76'},
 {'target': '74', 'source': '76'},
 {'target': '85', 'source': '76'},
 {'target': '82', 'source': '38'},
 {'target': '60', 'source': '38'},
 {'target': '6', 'source': '38'},
 {'target': '74', 'source': '38'},
 {'target': '85', 'source': '38'},
 {'target': '25', 'source': '56'},
 {'target': '48', 'source': '56'},
 {'target': '59', 'source': '56'},
 {'target': '32', 'source': '56'},
 {'target': '25', 'source': '67'},
 {'target': '48', 'source': '67'},
 {'target': '59', 'source': '67'},
 {'target': '32', 'source': '67'},
 {'target': '35', 'source': '25'},
 {'target': '46', 'source': '25'},
 {'target': '1', 'source': '25'},
 {'target': '98', 'source': '25'},
 {'target': '35', 'source': '48'},
 {'target': '46', 'source': '48'},
 {'target': '1', 'source': '48'},
 {'target': '98', 'source': '48'},
 {'target': '35', 'source': '59'},
 {'target': '46', 'source': '59'},
 {'target': '1', 'source': '59'},
 {'target': '98', 'source': '59'},
 {'target': '35', 'source': '32'},
 {'target': '46', 'source': '32'},
 {'target': '1', 'source': '32'},
 {'target': '98', 'source': '32'},
 {'target': '61', 'source': '63'},
 {'target': '89', 'source': '63'},
 {'target': '61', 'source': '53'},
 {'target': '89', 'source': '53'},
 {'target': '54', 'source': '61'},
 {'target': '24', 'source': '61'},
 {'target': '23', 'source': '61'},
 {'target': '51', 'source': '61'},
 {'target': '54', 'source': '89'},
 {'target': '24', 'source': '89'},
 {'target': '23', 'source': '89'},
 {'target': '51', 'source': '89'},
 {'target': '88', 'source': '84'},
 {'target': '43', 'source': '84'},
 {'target': '41', 'source': '84'},
 {'target': '88', 'source': '10'},
 {'target': '43', 'source': '10'},
 {'target': '41', 'source': '10'},
 {'target': '88', 'source': '49'},
 {'target': '43', 'source': '49'},
 {'target': '41', 'source': '49'},
 {'target': '88', 'source': '95'},
 {'target': '43', 'source': '95'},
 {'target': '41', 'source': '95'},
 {'target': '71', 'source': '88'},
 {'target': '79', 'source': '88'},
 {'target': '87', 'source': '88'},
 {'target': '71', 'source': '43'},
 {'target': '79', 'source': '43'},
 {'target': '87', 'source': '43'},
 {'target': '71', 'source': '41'},
 {'target': '79', 'source': '41'},
 {'target': '87', 'source': '41'},
 {'target': '47', 'source': '68'},
 {'target': '75', 'source': '68'},
 {'target': '47', 'source': '16'},
 {'target': '75', 'source': '16'},
 {'target': '47', 'source': '92'},
 {'target': '75', 'source': '92'},
 {'target': '47', 'source': '78'},
 {'target': '75', 'source': '78'},
 {'target': '22', 'source': '47'},
 {'target': '80', 'source': '47'},
 {'target': '66', 'source': '47'},
 {'target': '12', 'source': '47'},
 {'target': '44', 'source': '47'},
 {'target': '22', 'source': '75'},
 {'target': '80', 'source': '75'},
 {'target': '66', 'source': '75'},
 {'target': '12', 'source': '75'},
 {'target': '44', 'source': '75'},
 {'target': '42', 'source': '29'},
 {'target': '90', 'source': '29'},
 {'target': '11', 'source': '29'},
 {'target': '42', 'source': '64'},
 {'target': '90', 'source': '64'},
 {'target': '11', 'source': '64'},
 {'target': '42', 'source': '96'},
 {'target': '90', 'source': '96'},
 {'target': '11', 'source': '96'},
 {'target': '52', 'source': '42'},
 {'target': '40', 'source': '42'},
 {'target': '52', 'source': '90'},
 {'target': '40', 'source': '90'},
 {'target': '52', 'source': '11'},
 {'target': '40', 'source': '11'},
 {'target': '63', 'source': '31'},
 {'target': '53', 'source': '31'},
 {'target': '68', 'source': '31'},
 {'target': '16', 'source': '31'},
 {'target': '92', 'source': '31'},
 {'target': '78', 'source': '31'},
 {'target': '63', 'source': '15'},
 {'target': '53', 'source': '15'},
 {'target': '68', 'source': '15'},
 {'target': '16', 'source': '15'},
 {'target': '92', 'source': '15'},
 {'target': '78', 'source': '15'},
 {'target': '63', 'source': '73'},
 {'target': '53', 'source': '73'},
 {'target': '68', 'source': '73'},
 {'target': '16', 'source': '73'},
 {'target': '92', 'source': '73'},
 {'target': '78', 'source': '73'},
 {'target': '63', 'source': '93'},
 {'target': '53', 'source': '93'},
 {'target': '68', 'source': '93'},
 {'target': '16', 'source': '93'},
 {'target': '92', 'source': '93'},
 {'target': '78', 'source': '93'},
 {'target': '84', 'source': '18'},
 {'target': '10', 'source': '18'},
 {'target': '49', 'source': '18'},
 {'target': '95', 'source': '18'},
 {'target': '84', 'source': '7'},
 {'target': '10', 'source': '7'},
 {'target': '49', 'source': '7'},
 {'target': '95', 'source': '7'},
 {'target': '84', 'source': '99'},
 {'target': '10', 'source': '99'},
 {'target': '49', 'source': '99'},
 {'target': '95', 'source': '99'},
 {'target': '84', 'source': '8'},
 {'target': '10', 'source': '8'},
 {'target': '49', 'source': '8'},
 {'target': '95', 'source': '8'},
 {'target': '84', 'source': '91'},
 {'target': '10', 'source': '91'},
 {'target': '49', 'source': '91'},
 {'target': '95', 'source': '91'},
 {'target': '56', 'source': '39'},
 {'target': '67', 'source': '39'},
 {'target': '84', 'source': '39'},
 {'target': '10', 'source': '39'},
 {'target': '49', 'source': '39'},
 {'target': '95', 'source': '39'},
 {'target': '56', 'source': '86'},
 {'target': '67', 'source': '86'},
 {'target': '84', 'source': '86'},
 {'target': '10', 'source': '86'},
 {'target': '49', 'source': '86'},
 {'target': '95', 'source': '86'},
 {'target': '56', 'source': '94'},
 {'target': '67', 'source': '94'},
 {'target': '84', 'source': '94'},
 {'target': '10', 'source': '94'},
 {'target': '49', 'source': '94'},
 {'target': '95', 'source': '94'},
 {'target': '50', 'source': '69'},
 {'target': '0', 'source': '69'},
 {'target': '58', 'source': '69'},
 {'target': '14', 'source': '69'},
 {'target': '26', 'source': '69'},
 {'target': '50', 'source': '13'},
 {'target': '0', 'source': '13'},
 {'target': '58', 'source': '13'},
 {'target': '14', 'source': '13'},
 {'target': '26', 'source': '13'},
 {'target': '50', 'source': '9'},
 {'target': '0', 'source': '9'},
 {'target': '58', 'source': '9'},
 {'target': '14', 'source': '9'},
 {'target': '26', 'source': '9'},
 {'target': '50', 'source': '19'},
 {'target': '0', 'source': '19'},
 {'target': '58', 'source': '19'},
 {'target': '14', 'source': '19'},
 {'target': '26', 'source': '19'},
 {'target': '50', 'source': '27'},
 {'target': '0', 'source': '27'},
 {'target': '58', 'source': '27'},
 {'target': '14', 'source': '27'},
 {'target': '26', 'source': '27'},
 {'target': '50', 'source': '5'},
 {'target': '0', 'source': '5'},
 {'target': '58', 'source': '5'},
 {'target': '14', 'source': '5'},
 {'target': '26', 'source': '5'},
 {'target': '56', 'source': '82'},
 {'target': '67', 'source': '82'},
 {'target': '63', 'source': '82'},
 {'target': '53', 'source': '82'},
 {'target': '56', 'source': '60'},
 {'target': '67', 'source': '60'},
 {'target': '63', 'source': '60'},
 {'target': '53', 'source': '60'},
 {'target': '56', 'source': '6'},
 {'target': '67', 'source': '6'},
 {'target': '63', 'source': '6'},
 {'target': '53', 'source': '6'},
 {'target': '56', 'source': '74'},
 {'target': '67', 'source': '74'},
 {'target': '63', 'source': '74'},
 {'target': '53', 'source': '74'},
 {'target': '56', 'source': '85'},
 {'target': '67', 'source': '85'},
 {'target': '63', 'source': '85'},
 {'target': '53', 'source': '85'},
 {'target': '72', 'source': '35'},
 {'target': '34', 'source': '35'},
 {'target': '81', 'source': '35'},
 {'target': '36', 'source': '35'},
 {'target': '29', 'source': '35'},
 {'target': '64', 'source': '35'},
 {'target': '96', 'source': '35'},
 {'target': '72', 'source': '46'},
 {'target': '34', 'source': '46'},
 {'target': '81', 'source': '46'},
 {'target': '36', 'source': '46'},
 {'target': '29', 'source': '46'},
 {'target': '64', 'source': '46'},
 {'target': '96', 'source': '46'},
 {'target': '72', 'source': '1'},
 {'target': '34', 'source': '1'},
 {'target': '81', 'source': '1'},
 {'target': '36', 'source': '1'},
 {'target': '29', 'source': '1'},
 {'target': '64', 'source': '1'},
 {'target': '96', 'source': '1'},
 {'target': '72', 'source': '98'},
 {'target': '34', 'source': '98'},
 {'target': '81', 'source': '98'},
 {'target': '36', 'source': '98'},
 {'target': '29', 'source': '98'},
 {'target': '64', 'source': '98'},
 {'target': '96', 'source': '98'},
 {'target': '57', 'source': '54'},
 {'target': '20', 'source': '54'},
 {'target': '29', 'source': '54'},
 {'target': '64', 'source': '54'},
 {'target': '96', 'source': '54'},
 {'target': '57', 'source': '24'},
 {'target': '20', 'source': '24'},
 {'target': '29', 'source': '24'},
 {'target': '64', 'source': '24'},
 {'target': '96', 'source': '24'},
 {'target': '57', 'source': '23'},
 {'target': '20', 'source': '23'},
 {'target': '29', 'source': '23'},
 {'target': '64', 'source': '23'},
 {'target': '96', 'source': '23'},
 {'target': '57', 'source': '51'},
 {'target': '20', 'source': '51'},
 {'target': '29', 'source': '51'},
 {'target': '64', 'source': '51'},
 {'target': '96', 'source': '51'},
 {'target': '72', 'source': '71'},
 {'target': '34', 'source': '71'},
 {'target': '81', 'source': '71'},
 {'target': '36', 'source': '71'},
 {'target': '72', 'source': '79'},
 {'target': '34', 'source': '79'},
 {'target': '81', 'source': '79'},
 {'target': '36', 'source': '79'},
 {'target': '72', 'source': '87'},
 {'target': '34', 'source': '87'},
 {'target': '81', 'source': '87'},
 {'target': '36', 'source': '87'},
 {'target': '70', 'source': '22'},
 {'target': '30', 'source': '22'},
 {'target': '45', 'source': '22'},
 {'target': '70', 'source': '80'},
 {'target': '30', 'source': '80'},
 {'target': '45', 'source': '80'},
 {'target': '70', 'source': '66'},
 {'target': '30', 'source': '66'},
 {'target': '45', 'source': '66'},
 {'target': '70', 'source': '12'},
 {'target': '30', 'source': '12'},
 {'target': '45', 'source': '12'},
 {'target': '70', 'source': '44'},
 {'target': '30', 'source': '44'},
 {'target': '45', 'source': '44'},
 {'target': '72', 'source': '52'},
 {'target': '34', 'source': '52'},
 {'target': '81', 'source': '52'},
 {'target': '36', 'source': '52'},
 {'target': '70', 'source': '52'},
 {'target': '30', 'source': '52'},
 {'target': '45', 'source': '52'},
 {'target': '72', 'source': '40'},
 {'target': '34', 'source': '40'},
 {'target': '81', 'source': '40'},
 {'target': '36', 'source': '40'},
 {'target': '70', 'source': '40'},
 {'target': '30', 'source': '40'},
 {'target': '45', 'source': '40'}];
    $(document).ready(function () {
        getData(0);
    });
	 function getData(dat) {
         //var dat = $("#one").val();
         //var dat1 = $("#trainsets").val();
         if(dat<0 ||dat>99){
             alert("请输入0-99之间的数字");
             return;
         }
         if(dat === ''){
             return;
         }
         echarts.init(document.getElementById('Ztopo')).dispose();
         echarts.init(document.getElementById('xuri')).dispose();
         //请求数据


         $.ajax({
             url: '/trainData',
             data: {'datas': dat},
             type: 'GET',
             async: true,
             dataType: 'json',
              beforeSend:function(){
                        $("#preloder").fadeIn();
                        $(".loader").fadeIn();

                 },
                 complete: function () {
                 $(".loader").fadeOut();
                $("#preloder").fadeOut("slow");
                },
             success: function (Data) {
                var mycharts = echarts.init(document.getElementById("xuri"),'walden');
                var ZChart = echarts.init(document.getElementById('Ztopo'),'walden');
                 mycharts.showLoading();
                var pieNodeCharts = echarts.init(document.getElementById('nodePie'),'walden');
                var pieTriggerCharts = echarts.init(document.getElementById('triggerPie'),'walden');
                var nodeCloudCharts = echarts.init(document.getElementById('nodeCloud'),'walden');
                var triggerCloudCharts = echarts.init(document.getElementById('triggerCloud'),'walden');

                 var data = Data['TimeBar'];
                 const SankyData = Data['SankyD'];

                 var Sdata =Data['Sdata'];
                 var NodePieDf =Data['NodePieDf'];
                 var TriggerPieDf = Data['TriggerPieDf'];
                 var triggerCloud = Data['triggerCloud'];
                 var nodeCloud = Data['nodeCloud'];

                 var times = data.map(function (ele) {
                                 return ele.time
                             });

                 var option = {
                     baseOption: {
                         animationDurationUpdate: 700,
                         animationEasingUpdate: 'quinticInOut',
                         timeline: {
                             axisType: 'category',
                             orient: 'vertical',
                             autoPlay: true,
                             inverse: true,
                             playInterval: 5000,
                             left: '1%',
                             right: null,
                             top: '5%',
                             bottom: 20,
                             width: 46,
                             height: null,
                             tooltip:{
                                   formatter: function (params) {
                                         //console.log(params);
                                         return params;
                                     },
                             },
                             label: {
                                 normal: {
                                     formatter: function (params) {
                                         //console.log(typeof(params));
                                         return params.slice(11, 19);
                                     },
                                     show:false,
                                     textStyle: {

                                         //color: '#ddd'
                                     },
                                     position: 15
                                 },

                                 emphasis: {
                                     textStyle: {
                                        // color: '#fff'
                                     }
                                 }
                             },
                             symbol: 'none',
                             lineStyle: {
                                 // color: '#555'
                             },
                             checkpointStyle: {
                                // color: '#bbb',
                                 // borderColor: '#777',
                                 borderWidth: 1
                             },
                             controlStyle: {
                                 showNextBtn: false,
                                 showPrevBtn: false,
                                 normal: {
                                     // color: '#666',
                                     // borderColor: '#666'
                                 },
                                 emphasis: {
                                     // color: '#aaa',
                                     // borderColor: '#aaa'
                                 }
                             },
                             data: data.map(function (ele) {
                                 return ele.time
                             })
                         },
                         // backgroundColor: '#404a59',
                         title: {
                             text: times[0]+"时刻告警及拓扑分析",
                             //subtext: '',
                             left: 'left',
                             top: 'top',
                             textStyle: {
                                 fontSize: 25,
                                 //color: 'rgba(255,255,255, 0.9)'
                             }
                         },
                         tooltip: {
                            formatter: function (params) {
                                         //console.log(params.name);
                                         return params.name;
                                     }
                         },
                         grid: {
                             left: '12%',
                             right: '40%',
                             top: '10%'

                         },
                         xAxis: {
                             splitLine: false,
                             show:false
                         },
                         yAxis: {},
                         series: [{
                             id: 'bar',
                             type: 'bar',
                             tooltip: {
                                 show: true
                             },
                             label: {
                                 normal: {
                                     show: true,
                                     position: 'right',
                                     textStyle: {
                                        // color: '#ddd'
                                     }
                                 }
                             },
                             data: []
                         },
                             {
                                 id: 'sunburst',
                                 type: "sunburst",
                                 highlightPolicy: "ancestor",
                                 radius: [0, "42%"],
                                 center: ['68%', '55%'],
                                 sort: null,
                                 levels: [{}, {
                                     r0: "5%",
                                     r: "18%",
                                     itemStyle: {
                                         borderWidth: 2
                                     },
                                     label: {
                                         //rotate: "tangential"
                                     }
                                 }, {
                                     r0: "18%",
                                     r: "37%",
                                     label: {
                                         align: "right"
                                     }
                                 }, {
                                     r0: "37%",
                                     r: "42%",
                                     label: {
                                         position: "outside",
                                         padding: 3,
                                         silent: false
                                     },
                                     itemStyle: {
                                         borderWidth: 3
                                     }
                                 }]
                             }
                         ]
                     },
                     options: []
                 }

                 for (var i = 0; i < data.length; i++) {

                     option.options.push({
                         title: {
                             text: times[i]+"时刻告警及拓扑分析",
                             //subtext: '',

                         },
                         xAxis: {
                             type: 'value',
                             max: 5,
                             min: 0,
                             axisLabel: {
                                 show: false,
                             }
                         },
                         yAxis: {
                             type: 'category',
                             axisLabel: {
                                 show: true,
                                 textStyle: {
                                    // color: '#ddd'
                                 }
                             },
                             data: data[i].data.map(function (ele) {
                                 return ele.name;
                             }).reverse()
                         },
                         series: [{
                             id: 'bar',

                             data: data[i].data.map(function (ele) {
                                 return ele.value;
                             }).sort()
                         }, {
                             id: 'sunburst',
                             data: Sdata[i].data
                         }]
                     })

                 }

                 mycharts.setOption(option,true);
                 var pieNodeData = NodePieDf[0].data;
                 var pieNodeOption = {
                     // backgroundColor: '#2c343c',

                     title: {
                         text: '各节点告警次数占比',
                         left: "left",
                         top: "1%",
                         textStyle: {
                            // color: '#ccc'
                         }
                     },

                     tooltip: {
                         trigger: 'item',
                         formatter: '{a} <br/>{b} : {c} ({d}%)'
                     },
                     visualMap: {
                         show: false,
                         min: 0,
                         max: 4,
                         inRange: {
                             colorLightness: [0, 1]
                         }
                     },
                     series: [
                         {

                             name: '访问来源',
                             type: 'pie',
                             radius: '55%',
                             center: ['50%', '50%'],
                             data: pieNodeData.sort(function (a, b) {
                                 return a.value - b.value;
                             }),
                             roseType: 'radius',
                             label: {
                                // color: 'rgba(255, 255, 255, 0.3)'
                             },
                             labelLine: {
                                 lineStyle: {
                                 //    color: 'rgba(128, 128, 128, 0.3)'
                                 },
                                 smooth: 0.2,
                                 length: 10,
                                 length2: 20
                             },
                             itemStyle: {
                                // color: '#B9DCB9',
                                 shadowBlur: 200,
                                 shadowColor: 'rgba(0, 0, 0, 0.5)'
                             },

                             animationType: 'scale',
                             animationEasing: 'elasticOut',
                             animationDelay: function (idx) {
                                 return Math.random() * 200;
                             }
                         }
                     ]
                 };
                 var triggerData = TriggerPieDf[0].data;
                 var triggerOption = {
                     // backgroundColor: '#2c343c',

                     title: {
                         text: '各告警类型次数占比',
                         left: "1%",
                         top: "1%",
                         textStyle: {
                            // color: '#ccc'
                         }
                     },

                     tooltip: {
                         trigger: 'item',
                         formatter: '{a} <br/>{b} : {c} ({d}%)'
                     },
                     visualMap: {
                         show: false,
                         min: 0,
                         max: 4,
                         inRange: {
                             colorLightness: [0, 1]
                         }
                     },
                     series: [
                         {

                             name: '访问来源',
                             type: 'pie',
                             radius: '55%',
                             center: ['50%', '50%'],
                             data: triggerData.sort(function (a, b) {
                                 return a.value - b.value;
                             }),
                             roseType: 'radius',
                             label: {
                               //  color: 'rgba(255, 255, 255, 0.3)'
                             },
                             labelLine: {
                                 lineStyle: {
                                //     color: 'rgba(128, 128, 128, 0.3)'
                                 },
                                 smooth: 0.2,
                                 length: 10,
                                 length2: 20
                             },
                             itemStyle: {
                                 // color: '#B9DCB9',
                                 shadowBlur: 200,
                                 shadowColor: 'rgba(0, 0, 0, 0.5)'
                             },

                             animationType: 'scale',
                             animationEasing: 'elasticOut',
                             animationDelay: function (idx) {
                                 return Math.random() * 200;
                             }
                         }
                     ]
                 };

                 pieNodeCharts.setOption(pieNodeOption,true);
                 pieTriggerCharts.setOption(triggerOption,true);
                  // 随机颜色
                 let randcolor = () => {
                            let r = 100 + ~~(Math.random() * 100);
                            let g = 135 + ~~(Math.random() * 100);
                            let b = 100 + ~~(Math.random() * 100);
                            return `rgb(${r}, ${g}, ${b})`
                 }

                 var nodeCloudOption = {
                            // backgroundColor: 'rgba(255,255,255,.5)',
                            title:{
                       text:"节点告警次数动态词云"
                     },
                     tooltip: {
                                trigger: 'item',
                                padding: [5, 7],
                                textStyle: {
                                    fontSize: 14
                                },
                                formatter: params => {
                                    const {
                                        name,
                                        value
                                    } = params

                                    return `
                                            节点：${name} <br/>
                                            数量：${value}
                                        `
                                }
                            },
                            series: [{
                                type: 'wordCloud',
                                gridSize: 20,
                                sizeRange: [12, 50],
                                rotationRange: [0, 0],
                                shape: 'circle',
                                textStyle: {
//                                     normal: {
//                                         color: params => {
//                                             return randcolor()
//                                        }
//                                     },
                                    emphasis: {
                                        shadowBlur: 10,
                                        // shadowColor: '#333'
                                    }
                                },
                                data: nodeCloud[0].data
                            }]
                        };
                 nodeCloudCharts.clear();
                 nodeCloudCharts.setOption(nodeCloudOption,true);

                 var triggerCloudOption = {
                            // backgroundColor: 'rgba(255,255,255,.5)',
                            title:{
                       text:"告警类型动态词云"
                     },
                            tooltip: {
                                trigger: 'item',
                                padding: [5, 7],
                                textStyle: {
                                    fontSize: 14
                                },
                                formatter: params => {
                                    const {
                                        name,
                                        value
                                    } = params

                                    return `
                                            告警种类：${name} <br/>
                                            数量：${value}
                                        `
                                }
                            },
                            series: [{
                                type: 'wordCloud',
                                gridSize: 20,
                                sizeRange: [12, 50],
                                rotationRange: [0, 0],
                                shape: 'circle',
                                textStyle: {
                                    normal: {
                                    //    color: params => {
                                   //         return randcolor()
                                  //      }
                                    },
                                    emphasis: {
                                        shadowBlur: 10,
                                        shadowColor: '#333'
                                    }
                                },
                                data: triggerCloud[0].data
                            }]
                        };
                 triggerCloudCharts.clear();
                 triggerCloudCharts.setOption(triggerCloudOption,true);
                 mycharts.hideLoading();

                 mycharts.on('timelinechanged', function (params) {

                         var index = params.currentIndex;
                         //console.log(NodePieDf[index]);

                         var pieNodeData = NodePieDf[index].data;
                         console.log("cloud"+triggerCloud[index]);
                         var triggerData = TriggerPieDf[index].data;

                         var triggerCloudD = triggerCloud[index].data;
                         var nodeCloudD = nodeCloud[index].data;
                         //console.log(pieNodeData);
                        // console.log(triggerData);
                         var pieNodeOption = {
                             // backgroundColor: '#2c343c',

                             title: {
                                 text: '告警次数节点分布',
                                 left: "1%",
                                 top: "1%",
                                 textStyle: {
                                 //    color: '#ccc'
                                 }
                             },

                             tooltip: {
                                 trigger: 'item',
                                 formatter: '{a} <br/>{b} : {c} ({d}%)'
                             },
                             visualMap: {
                                 show: false,
                                 min: 0,
                                 max: 4,
                                 inRange: {
                                     colorLightness: [0, 1]
                                 }
                             },
                             series: [
                                 {

                                     name: '节点名及次数：',
                                     type: 'pie',
                                     radius: '55%',
                                     center: ['50%', '50%'],
                                     data: pieNodeData.sort(function (a, b) {
                                         return a.value - b.value;
                                     }),
                                     roseType: 'radius',
                                     label: {
                                      //   color: 'rgba(255, 255, 255, 0.3)'
                                     },
                                     labelLine: {
                                         lineStyle: {
                                     //        color: 'rgba(128, 128, 128, 0.3)'
                                         },
                                         smooth: 0.2,
                                         length: 10,
                                         length2: 20
                                     },
                                     itemStyle: {
                                         // color: '#B9DCB9',
                                         shadowBlur: 200,
                                         // shadowColor: 'rgba(0, 0, 0, 0.5)'
                                     },

                                     animationType: 'scale',
                                     animationEasing: 'elasticOut',
                                     animationDelay: function (idx) {
                                         return Math.random() * 200;
                                     }
                                 }
                             ]
                         };
                         var triggerOption = {
                             // backgroundColor: '#2c343c',

                             title: {
                                 text: '告警次数种类分布',
                                 left: "1%",
                                 top: "1%",
                                 textStyle: {
                                    // color: '#ccc'
                                 }
                             },

                             tooltip: {
                                 trigger: 'item',
                                 formatter: '{a} <br/>{b} : {c} ({d}%)'
                             },
                             visualMap: {
                                 show: false,
                                 min: 0,
                                 max: 4,
                                 inRange: {
                                     colorLightness: [0, 0.5]
                                 }
                             },
                             series: [
                                 {

                                     name: '告警种类及次数',
                                     type: 'pie',
                                     radius: '55%',
                                     center: ['50%', '50%'],
                                     data: triggerData.sort(function (a, b) {
                                         return a.value - b.value;
                                     }),
                                     roseType: 'radius',
                                     label: {
                                   //      color: 'rgba(255, 255, 255, 0.3)'
                                     },
                                     labelLine: {
                                         lineStyle: {
                                             // color: 'rgba(128, 128, 128, 0.3)'
                                         },
                                         smooth: 0.2,
                                         length: 10,
                                         length2: 20
                                     },
                                     itemStyle: {
                                         // color: '#B9DCB9',
                                         shadowBlur: 200,
                                         // shadowColor: 'rgba(0, 0, 0, 0.5)'
                                     },

                                     animationType: 'scale',
                                     animationEasing: 'elasticOut',
                                     animationDelay: function (idx) {
                                         return Math.random() * 200;
                                     }
                                 }
                             ]
                         };
                            pieNodeCharts.clear();
                            pieTriggerCharts.clear();
                         pieNodeCharts.setOption(pieNodeOption,true);
                         pieTriggerCharts.setOption(triggerOption,true);
                        // 随机颜色
                        let randcolor = () => {
                            let r = 100 + ~~(Math.random() * 100);
                            let g = 135 + ~~(Math.random() * 100);
                            let b = 100 + ~~(Math.random() * 100);
                            return `rgb(${r}, ${g}, ${b})`
                        }

                        var nodeCloudOption = {
                            // backgroundColor: 'rgba(255,255,255,.5)',
                            title:{
                       text:"节点告警次数动态词云"
                     },
                            tooltip: {
                                trigger: 'item',
                                padding: [10, 15],
                                textStyle: {
                                    fontSize: 20
                                },
                                formatter: params => {
                                    const {
                                        name,
                                        value
                                    } = params

                                    return `
                                            节点：${name} <br/>
                                            数量：${value}
                                        `
                                }
                            },
                            series: [{
                                type: 'wordCloud',
                                gridSize: 20,
                                sizeRange: [12, 50],
                                rotationRange: [0, 0],
                                shape: 'circle',
                                textStyle: {
//                                     normal: {
//                                         color: params => {
//                                             return randcolor()
//                                         }
//                                     },
                                    emphasis: {
                                        shadowBlur: 10,
                                        shadowColor: '#333'
                                    }
                                },
                                data: nodeCloudD
                            }]
                        };
                        nodeCloudCharts.clear();
                        nodeCloudCharts.setOption(nodeCloudOption,true);


                        var triggerCloudOption = {
                            // backgroundColor: 'rgba(255,255,255,.5)',
                            title:{
                       text:"告警类型动态词云"
                     },
                            tooltip: {
                                trigger: 'item',
                                padding: [10, 15],
                                textStyle: {
                                    fontSize: 20
                                },
                                formatter: params => {
                                    const {
                                        name,
                                        value
                                    } = params

                                    return `
                                            告警种类：${name} <br/>
                                            数量：${value}
                                        `
                                }
                            },
                            series: [{
                                type: 'wordCloud',
                                gridSize: 20,
                                sizeRange: [12, 50],
                                rotationRange: [0, 0],
                                shape: 'circle',
                                textStyle: {
//                                     normal: {
//                                         color: params => {
//                                             return randcolor()
//                                         }
//                                     },
                                    emphasis: {
                                        shadowBlur: 10,
                                        // shadowColor: '#333'
                                    }
                                },
                                data: triggerCloudD
                            }]
                        };
                        triggerCloudCharts.clear();
                        triggerCloudCharts.setOption(triggerCloudOption,true);
                 }
                 );
                 //时间折线图
                 {
                     var mychart = echarts.init(document.getElementById("moveLine"),'walden');

                        var date = [];

                        var datas =Data['Line_df'];
                        var data=[];
                        var data2=[];
                        var now = datas[0].time;
                        var i=0;
                        //mychart.clear();
                        function addData(shift) {
                           // console.log(i);
                            now = datas[i].time;
                            date.push(now);
                            data.push((datas[i].value[0]));
                            data2.push((datas[i].value[1]));
                            if (shift) {
                                now =date.shift();
                                data.shift();
                                data2.shift();
                            }
                        }

                        for (; i <20; i++) {
                            addData(false);
                        }

                        var option = {
                            grid:{
                                left:"4%",
                                right:"5%"
                            },
                            toolbox: {
                                orient:'vertical',
                                feature: {
                                    dataZoom: {
                                        yAxisIndex: 'none'
                                    },
                                    restore: {},
                                    saveAsImage: {}
                                }
                            },
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'cross',
                                    animation: false,
//                                     label: {
//                                         // backgroundColor: '#505765'
//                                     }
                                }
                            },
                            xAxis: {
                                type: 'category',
                                boundaryGap: false,
                                data: date
                            },
                            yAxis: [{
                                //boundaryGap: [0, '50%'],
                                max:30,
                                min:0,
                                type: 'value',
                                name:'告警发生节点数/(个)'
                            },{
                                max:30,
                                min:0,
                                type: 'value',
                                name:'告警类型数量/(个)'
                            }
                            ],
                            series: [
                                {
                                    name:'节点数量',
                                    type:'line',
                                    smooth:false,

                                    symbol: 'none',
                                    stack: 'a',
                                    // areaStyle: {
                                     //   normal: {}
                                     //},

                                    data: data,
                                    yAxisIndex:0
                                },
                                {
                                    name:'告警种类数量',
                                    type:'line',
                                    smooth:false,
                                    symbol: 'none',
                                    stack: 'a',
                                    //areaStyle: {
                                    //    normal: {}
                                     //},
                                    data: data2,
                                    // color:'#008000',
                                    yAxisIndex:1
                                }
                            ]
                        };

                        if(intervals!=null)
                            window.clearInterval(intervals);
                        intervals = setInterval(function () {
                            //console.log(date);
                            i++;
                            if(i===datas.length){
                                i=0;
                            }
                            addData(true);
                            mychart.setOption({
                                xAxis: {
                                    data: date
                                },
                                series: [{
                                    name:'节点数量',
                                    data: data
                                },{
                                    name:'告警种类数量',
                                    data:data2
                                }]
                            });
                        }, 1000);
                               // console.log(date);
                                mychart.setOption(option);

                 }

                 var jChart = echarts.init(document.getElementById('Jtopo'),'walden');

                 //总体拓扑及相关桑基图
                 {
                     //总体拓扑
                     var returnlist = Data['Ztopo'];

                     var root = returnlist['root'];
                     var root_gj = returnlist['root_gj'];
                     var root_, root_gj_;

                     if(root === 'wugenyin'&&root_gj==='wugenyin'){
                         root_ = "无根节点";
                         root_gj_ = "无根因告警信息";
                     }
                     else{
                         root_ = root;
                         root_gj_ = root_gj;
                     }
                     var alldata = returnlist['alldata'];
                     var alllink = returnlist['alllink'];
                     var gjxx = returnlist['gjxx'];

                     var option = {
                         title: {
                             text: "告警文件："+dat.toString()+".csv   " +"根因节点："+root_+"  告警信息："+root_gj_,
                             top: "top",
                             left: "left",

                         },
                         // 	grid:{
                         //                       x:200,
                         //                       y:200,
                         //                       x2:200,
                         //                       y2:200
                         //                      },
                         tooltip: {                  // 提示框的配置
                             formatter: function (param) {
                                 if (param.dataType === 'edge') {
                                     // return param.data.category + ': ' + param.data.target;
                                     // return param.data.target;
                                     // return dic['{b}';
                                 }
                                 if (param.name == root) {
                                     return root_gj;
                                 }
                                 if (param.name == '0') {
                                     return gjxx['0'];
                                 }
                                 if (param.name == '1') {
                                     return gjxx['1'];
                                 }
                                 if (param.name == '2') {
                                     return gjxx['2'];
                                 }
                                 if (param.name == '3') {
                                     return gjxx['3'];
                                 }
                                 if (param.name == '4') {
                                     return gjxx['4'];
                                 }
                                 if (param.name == '5') {
                                     return gjxx['5'];
                                 }
                                 if (param.name == '6') {
                                     return gjxx['6'];
                                 }
                                 if (param.name == '7') {
                                     return gjxx['7'];
                                 }
                                 if (param.name == '8') {
                                     return gjxx['8'];
                                 }
                                 if (param.name == '9') {
                                     return gjxx['9'];
                                 }
                                 if (param.name == '10') {
                                     return gjxx['10'];
                                 }
                                 if (param.name == '11') {
                                     return gjxx['11'];
                                 }
                                 if (param.name == '12') {
                                     return gjxx['12'];
                                 }
                                 if (param.name == '13') {
                                     return gjxx['13'];
                                 }
                                 if (param.name == '14') {
                                     return gjxx['14'];
                                 }
                                 if (param.name == '15') {
                                     return gjxx['15'];
                                 }
                                 if (param.name == '16') {
                                     return gjxx['16'];
                                 }
                                 if (param.name == '17') {
                                     return gjxx['17'];
                                 }
                                 if (param.name == '18') {
                                     return gjxx['18'];
                                 }
                                 if (param.name == '19') {
                                     return gjxx['19'];
                                 }
                                 if (param.name == '20') {
                                     return gjxx['20'];
                                 }
                                 if (param.name == '21') {
                                     return gjxx['21'];
                                 }
                                 if (param.name == '22') {
                                     return gjxx['22'];
                                 }
                                 if (param.name == '23') {
                                     return gjxx['23'];
                                 }
                                 if (param.name == '24') {
                                     return gjxx['24'];
                                 }
                                 if (param.name == '25') {
                                     return gjxx['25'];
                                 }
                                 if (param.name == '26') {
                                     return gjxx['26'];
                                 }
                                 if (param.name == '27') {
                                     return gjxx['27'];
                                 }
                                 if (param.name == '28') {
                                     return gjxx['28'];
                                 }
                                 if (param.name == '29') {
                                     return gjxx['29'];
                                 }
                                 if (param.name == '30') {
                                     return gjxx['30'];
                                 }
                                 if (param.name == '31') {
                                     return gjxx['31'];
                                 }
                                 if (param.name == '32') {
                                     return gjxx['32'];
                                 }
                                 if (param.name == '33') {
                                     return gjxx['33'];
                                 }
                                 if (param.name == '34') {
                                     return gjxx['34'];
                                 }
                                 if (param.name == '35') {
                                     return gjxx['35'];
                                 }
                                 if (param.name == '36') {
                                     return gjxx['36'];
                                 }
                                 if (param.name == '37') {
                                     return gjxx['37'];
                                 }
                                 if (param.name == '38') {
                                     return gjxx['38'];
                                 }
                                 if (param.name == '39') {
                                     return gjxx['39'];
                                 }
                                 if (param.name == '40') {
                                     return gjxx['40'];
                                 }
                                 if (param.name == '41') {
                                     return gjxx['41'];
                                 }
                                 if (param.name == '42') {
                                     return gjxx['42'];
                                 }
                                 if (param.name == '43') {
                                     return gjxx['43'];
                                 }
                                 if (param.name == '44') {
                                     return gjxx['44'];
                                 }
                                 if (param.name == '45') {
                                     return gjxx['45'];
                                 }
                                 if (param.name == '46') {
                                     return gjxx['46'];
                                 }
                                 if (param.name == '47') {
                                     return gjxx['47'];
                                 }
                                 if (param.name == '48') {
                                     return gjxx['48'];
                                 }
                                 if (param.name == '49') {
                                     return gjxx['49'];
                                 }
                                 if (param.name == '50') {
                                     return gjxx['50'];
                                 }
                                 if (param.name == '51') {
                                     return gjxx['51'];
                                 }
                                 if (param.name == '52') {
                                     return gjxx['52'];
                                 }
                                 if (param.name == '53') {
                                     return gjxx['53'];
                                 }
                                 if (param.name == '54') {
                                     return gjxx['54'];
                                 }
                                 if (param.name == '55') {
                                     return gjxx['55'];
                                 }
                                 if (param.name == '56') {
                                     return gjxx['56'];
                                 }
                                 if (param.name == '57') {
                                     return gjxx['57'];
                                 }
                                 if (param.name == '58') {
                                     return gjxx['58'];
                                 }
                                 if (param.name == '59') {
                                     return gjxx['59'];
                                 }
                                 if (param.name == '60') {
                                     return gjxx['60'];
                                 }
                                 if (param.name == '61') {
                                     return gjxx['61'];
                                 }
                                 if (param.name == '62') {
                                     return gjxx['62'];
                                 }
                                 if (param.name == '63') {
                                     return gjxx['63'];
                                 }
                                 if (param.name == '64') {
                                     return gjxx['64'];
                                 }
                                 if (param.name == '65') {
                                     return gjxx['65'];
                                 }
                                 if (param.name == '66') {
                                     return gjxx['66'];
                                 }
                                 if (param.name == '67') {
                                     return gjxx['67'];
                                 }
                                 if (param.name == '68') {
                                     return gjxx['68'];
                                 }
                                 if (param.name == '69') {
                                     return gjxx['69'];
                                 }
                                 if (param.name == '70') {
                                     return gjxx['70'];
                                 }
                                 if (param.name == '71') {
                                     return gjxx['71'];
                                 }
                                 if (param.name == '72') {
                                     return gjxx['72'];
                                 }
                                 if (param.name == '73') {
                                     return gjxx['73'];
                                 }
                                 if (param.name == '74') {
                                     return gjxx['74'];
                                 }
                                 if (param.name == '75') {
                                     return gjxx['75'];
                                 }
                                 if (param.name == '76') {
                                     return gjxx['76'];
                                 }
                                 if (param.name == '77') {
                                     return gjxx['77'];
                                 }
                                 if (param.name == '78') {
                                     return gjxx['78'];
                                 }
                                 if (param.name == '79') {
                                     return gjxx['79'];
                                 }
                                 if (param.name == '80') {
                                     return gjxx['80'];
                                 }
                                 if (param.name == '81') {
                                     return gjxx['81'];
                                 }
                                 if (param.name == '82') {
                                     return gjxx['82'];
                                 }
                                 if (param.name == '83') {
                                     return gjxx['83'];
                                 }
                                 if (param.name == '84') {
                                     return gjxx['84'];
                                 }
                                 if (param.name == '85') {
                                     return gjxx['85'];
                                 }
                                 if (param.name == '86') {
                                     return gjxx['86'];
                                 }
                                 if (param.name == '87') {
                                     return gjxx['87'];
                                 }
                                 if (param.name == '88') {
                                     return gjxx['88'];
                                 }
                                 if (param.name == '89') {
                                     return gjxx['89'];
                                 }
                                 if (param.name == '90') {
                                     return gjxx['90'];
                                 }
                                 if (param.name == '91') {
                                     return gjxx['91'];
                                 }
                                 if (param.name == '92') {
                                     return gjxx['92'];
                                 }
                                 if (param.name == '93') {
                                     return gjxx['93'];
                                 }
                                 if (param.name == '94') {
                                     return gjxx['94'];
                                 }
                                 if (param.name == '95') {
                                     return gjxx['95'];
                                 }
                                 if (param.name == '96') {
                                     return gjxx['96'];
                                 }
                                 if (param.name == '97') {
                                     return gjxx['97'];
                                 }
                                 if (param.name == '98') {
                                     return gjxx['98'];
                                 }
                                 if (param.name == '99') {
                                     return gjxx['99'];
                                 }
                                 if (param.name == '100') {
                                     return gjxx['100'];
                                 }
                                 //return param.data.category + ': ' + param.data.name;
                                 return param.data.name;
                             }
                         },
                         // backgroundColor: '#FFFFFF',
                         legend: {
                             show: true,
                             data: [{
                                 name: 'SYS_1',
                   
                             },
                                 {
                                     name: 'SYS_2',

                                 }, {
                                     name: 'SYS_3',
                                    
                                 },
                                 {
                                     name: 'SYS_4',
                                     
                                 },
                                 {
                                     name: 'SYS_5',
                                     
                                 },
                                 {
                                     name: 'SYS_6',
                                     
                                 },
                                 {
                                     name: 'SYS_7',
                                    
                                 },
                                 {
                                     name: 'SYS_8',
                                     
                                 },
                                 {
                                     name: 'SYS_9',
                                    
                                 },
                                 {
                                     name: 'SYS_10',
                                     
                                 },],
                                    
                             type: 'scroll',
                             orient: 'vertical',
                             left: 0,
                             bottom: 0,
                             itemWidth: 10,
                             itemHeight: 10
                         },
                         animationDuration: 0,
                         animationEasingUpdate: 'quinticInOut',
                         series: [{
                             name: '知识图谱',
                             type: 'graph',
                             layout: 'force',
                             focusNodeAdjacency: true,   // 是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。[ default: false ]
                             center: ["50%", "50%"],
							 left:0,
							 right:0,
                             force: {
                                 repulsion: 300,
                                 gravity: 0.3,
                                 edgeLength: 15,
                                 layoutAnimation: true,
                             },
                             data: alldata,
                             links: alllink,
                             categories: [{},
                                 {'name': 'SYS_1'},
                                 {'name': 'SYS_2'},
                                 {'name': 'SYS_3'},
                                 {'name': 'SYS_4'},
                                 {'name': 'SYS_5'},
                                 {'name': 'SYS_6'},
                                 {'name': 'SYS_7'},
                                 {'name': 'SYS_8'},
                                 {'name': 'SYS_9'},
                                 {'name': 'SYS_10'}],
                             roam: true,
                             label: {
                                 normal: {
                                     show: true,
                                     position: 'inside',
                                     formatter: '{b}',
                                     fontSize: 10,
                                     fontStyle: '600',
                                 }
                             },
                             edgeSymbol: ['arrow'],                            // 'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。
                             edgeSymbolSize: [5, 12],
                             edgeLabel: {
                                 normal: {
                                     textStyle: {
                                       //  color: "#000",
                                         fontSize: 100,
                                         show: true
                                     }
                                 }
                             },
                             lineStyle: {
                                 normal: {
                                     opacity: 0.9,
                                     width: 1.5,
                                     curveness: 0
                                 }
                             }
                         }]
                     };
                     //console.log(root);
                     // 使用刚指定的配置项和数据显示图表
                     ZChart.clear();
                     ZChart.setOption(option,true);
                     var noRootFiles = ['1',
                                         '4',
                                         '6',
                                         '8',
                                         '10',
                                         '12',
                                         '14',
                                         '16',
                                         '18',
                                         '20',
                                         '22',
                                         '23',
                                         '26',
                                         '28',
                                         '30',
                                         '32',
                                         '34',
                                         '36',
                                         '38',
                                         '40',
                                         '42',
                                         '44',
                                         '45',
                                         '48',
                                         '50',
                                         '52',
                                         '54',
                                         '56',
                                         '58',
                                         '60',
                                         '62',
                                         '64',
                                         '66',
                                         '67',
                                         '70',
                                         '72',
                                         '74',
                                         '76',
                                         '78',
                                         '80',
                                         '82',
                                         '84',
                                         '86',
                                         '88',
                                         '89',
                                         '91',
                                         '93',
                                         '95',
                                         '97',
                                         '99'];
                     var name = 'node_' ;

                     //console.log(dat.toString());
                     if(noRootFiles.indexOf(dat.toString())!==-1){
                         name = name +alldata[0].name;
                     }
                     else{
                         name = name+ root;
                     }

                     //console.log(name);
                        console.log(SankyData.name);
                        console.log(SankyData[name]);
                         var zeroData = SankyData[name][0];
                         var oneData = SankyData[name][1];
                         var twoData = SankyData[name][2];
                         //console.log();
                         var zeroChart = echarts.init(document.getElementById('Zero'),'walden');
                         var oneChart = echarts.init(document.getElementById('One'),'walden');
                         var twoChart = echarts.init(document.getElementById('Two'),'walden');
                         var zeroOption = {
                               title:{
                                 text: name+'节点告警'
                             },
							   tooltip: {
									trigger: "item",
									triggerOn: "mousemove"
							   },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",

                                 focusNodeAdjacency: 'allEdges',
                                 data: zeroData.data,
                                 links: zeroData.link,
								 orient: "vertical",
								 label: {
								 	show: true,
								 	position: "insideLeft",
								 	rotate: 35,
								 	distance: 5
								 }
                             },

                         };

                         zeroChart.setOption(zeroOption,true);

                         var twoOption = {
                             title:{
                                 text: name+'两跳以内节点告警'
                             },
							 tooltip: {
							 	trigger: "item",
							 	triggerOn: "mousemove",
							 },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",

                                 focusNodeAdjacency: 'allEdges',
                                 data: twoData.data,
                                 links: twoData.link,
								 orient: "vertical",
									label: {
									  show: true,
									  position: "insideLeft",
									  rotate: 35,
									  distance: 5
									}
                             },

                         };
                         twoChart.setOption(twoOption,true);

                         var oneOption = {
                              title:{
                                 text: name+'一跳以内节点告警'
                             },
							 tooltip: {
							 	trigger: "item",
							 	triggerOn: "mousemove",
							 },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",

                                 focusNodeAdjacency: 'allEdges',
                                 data: oneData.data,
                                 links: oneData.link,
								 orient: "vertical",
								 label: {
								 	show: true,
								 	position: "insideLeft",
								 	rotate: 35,
								 	distance: 5
								 }
                             },

                         };
                         oneChart.setOption(oneOption,true);
                         //
                         {

                            var returnlist=Data['Jtopo'];

                            var root=name;

                            var root_gj=name;
                            //console.log(returnlist['ztalldata']);
                            var alldata=returnlist[root.slice(5)]['alldata'];

                           // console.log(alllink);
                        var gjxx=returnlist['gjxx'];

                        var	option = {
                        title: {
                            text: name+"两跳以内拓扑图",
                            top: "top",
                            left: "left",

                        },
                        tooltip: {                  // 提示框的配置
                                formatter: function(param) {
                                    if (param.dataType === 'edge') {
                                        // return param.data.category + ': ' + param.data.target;
                                        // return param.data.target;
                                        // return '{b}';
                                    }
                                    if(param.name===root){
                                        return root_gj;
                                    }
                                    if(param.name==='0'){
                                                        return gjxx['0'];
                                                    }
                                                    if(param.name==='1'){
                                                        return gjxx['1'];
                                                    }
                                                    if(param.name==='2'){
                                                        return gjxx['2'];
                                                    }
                                                    if(param.name==='3'){
                                                        return gjxx['3'];
                                                    }
                                                    if(param.name==='4'){
                                                        return gjxx['4'];
                                                    }
                                                    if(param.name==='5'){
                                                        return gjxx['5'];
                                                    }
                                                    if(param.name==='6'){
                                                        return gjxx['6'];
                                                    }
                                                    if(param.name==='7'){
                                                        return gjxx['7'];
                                                    }
                                                    if(param.name==='8'){
                                                        return gjxx['8'];
                                                    }
                                                    if(param.name==='9'){
                                                        return gjxx['9'];
                                                    }
                                                    if(param.name==='10'){
                                                        return gjxx['10'];
                                                    }
                                                    if(param.name==='11'){
                                                        return gjxx['11'];
                                                    }
                                                    if(param.name=='12'){
                                                        return gjxx['12'];
                                                    }
                                                    if(param.name=='13'){
                                                        return gjxx['13'];
                                                    }
                                                    if(param.name=='14'){
                                                        return gjxx['14'];
                                                    }
                                                    if(param.name=='15'){
                                                        return gjxx['15'];
                                                    }
                                                    if(param.name=='16'){
                                                        return gjxx['16'];
                                                    }
                                                    if(param.name=='17'){
                                                        return gjxx['17'];
                                                    }
                                                    if(param.name=='18'){
                                                        return gjxx['18'];
                                                    }
                                                    if(param.name=='19'){
                                                        return gjxx['19'];
                                                    }
                                                    if(param.name=='20'){
                                                        return gjxx['20'];
                                                    }
                                                    if(param.name=='21'){
                                                        return gjxx['21'];
                                                    }
                                                    if(param.name=='22'){
                                                        return gjxx['22'];
                                                    }
                                                    if(param.name=='23'){
                                                        return gjxx['23'];
                                                    }
                                                    if(param.name=='24'){
                                                        return gjxx['24'];
                                                    }
                                                    if(param.name=='25'){
                                                        return gjxx['25'];
                                                    }
                                                    if(param.name=='26'){
                                                        return gjxx['26'];
                                                    }
                                    if(param.name=='27'){
                                                        return gjxx['27'];
                                                    }
                                                    if(param.name=='28'){
                                                        return gjxx['28'];
                                                    }
                                                    if(param.name=='29'){
                                                        return gjxx['29'];
                                                    }
                                                    if(param.name=='30'){
                                                        return gjxx['30'];
                                                    }
                                                    if(param.name=='31'){
                                                        return gjxx['31'];
                                                    }
                                                    if(param.name=='32'){
                                                        return gjxx['32'];
                                                    }
                                                    if(param.name=='33'){
                                                        return gjxx['33'];
                                                    }
                                                    if(param.name=='34'){
                                                        return gjxx['34'];
                                                    }
                                                    if(param.name=='35'){
                                                        return gjxx['35'];
                                                    }
                                                    if(param.name=='36'){
                                                        return gjxx['36'];
                                                    }
                                                    if(param.name=='37'){
                                                        return gjxx['37'];
                                                    }
                                                    if(param.name=='38'){
                                                        return gjxx['38'];
                                                    }
                                                    if(param.name=='39'){
                                                        return gjxx['39'];
                                                    }
                                                    if(param.name=='40'){
                                                        return gjxx['40'];
                                                    }
                                                    if(param.name=='41'){
                                                        return gjxx['41'];
                                                    }
                                                    if(param.name=='42'){
                                                        return gjxx['42'];
                                                    }
                                                    if(param.name=='43'){
                                                        return gjxx['43'];
                                                    }
                                                    if(param.name=='44'){
                                                        return gjxx['44'];
                                                    }
                                                    if(param.name=='45'){
                                                        return gjxx['45'];
                                                    }
                                                    if(param.name=='46'){
                                                        return gjxx['46'];
                                                    }
                                                    if(param.name=='47'){
                                                        return gjxx['47'];
                                                    }
                                                    if(param.name=='48'){
                                                        return gjxx['48'];
                                                    }
                                                    if(param.name=='49'){
                                                        return gjxx['49'];
                                                    }
                                                    if(param.name=='50'){
                                                        return gjxx['50'];
                                                    }
                                                    if(param.name=='51'){
                                                        return gjxx['51'];
                                                    }
                                                    if(param.name=='52'){
                                                        return gjxx['52'];
                                                    }
                                                    if(param.name=='53'){
                                                        return gjxx['53'];
                                                    }
                                                    if(param.name=='54'){
                                                        return gjxx['54'];
                                                    }
                                                    if(param.name=='55'){
                                                        return gjxx['55'];
                                                    }
                                                    if(param.name=='56'){
                                                        return gjxx['56'];
                                                    }
                                                    if(param.name=='57'){
                                                        return gjxx['57'];
                                                    }
                                                    if(param.name=='58'){
                                                        return gjxx['58'];
                                                    }
                                                    if(param.name=='59'){
                                                        return gjxx['59'];
                                                    }
                                                    if(param.name=='60'){
                                                        return gjxx['60'];
                                                    }
                                                    if(param.name=='61'){
                                                        return gjxx['61'];
                                                    }
                                                    if(param.name=='62'){
                                                        return gjxx['62'];
                                                    }
                                                    if(param.name=='63'){
                                                        return gjxx['63'];
                                                    }
                                                    if(param.name=='64'){
                                                        return gjxx['64'];
                                                    }
                                                    if(param.name=='65'){
                                                        return gjxx['65'];
                                                    }
                                                    if(param.name=='66'){
                                                        return gjxx['66'];
                                                    }
                                                    if(param.name=='67'){
                                                        return gjxx['67'];
                                                    }
                                                    if(param.name=='68'){
                                                        return gjxx['68'];
                                                    }
                                                    if(param.name=='69'){
                                                        return gjxx['69'];
                                                    }
                                                    if(param.name=='70'){
                                                        return gjxx['70'];
                                                    }
                                                    if(param.name=='71'){
                                                        return gjxx['71'];
                                                    }
                                                    if(param.name=='72'){
                                                        return gjxx['72'];
                                                    }
                                                    if(param.name=='73'){
                                                        return gjxx['73'];
                                                    }
                                                    if(param.name=='74'){
                                                        return gjxx['74'];
                                                    }
                                                    if(param.name=='75'){
                                                        return gjxx['75'];
                                                    }
                                                    if(param.name=='76'){
                                                        return gjxx['76'];
                                                    }
                                                    if(param.name=='77'){
                                                        return gjxx['77'];
                                                    }
                                                    if(param.name=='78'){
                                                        return gjxx['78'];
                                                    }
                                                    if(param.name=='79'){
                                                        return gjxx['79'];
                                                    }
                                                    if(param.name=='80'){
                                                        return gjxx['80'];
                                                    }
                                                    if(param.name=='81'){
                                                        return gjxx['81'];
                                                    }
                                                    if(param.name=='82'){
                                                        return gjxx['82'];
                                                    }
                                                    if(param.name=='83'){
                                                        return gjxx['83'];
                                                    }
                                                    if(param.name=='84'){
                                                        return gjxx['84'];
                                                    }
                                                    if(param.name=='85'){
                                                        return gjxx['85'];
                                                    }
                                                    if(param.name=='86'){
                                                        return gjxx['86'];
                                                    }
                                                    if(param.name=='87'){
                                                        return gjxx['87'];
                                                    }
                                                    if(param.name=='88'){
                                                        return gjxx['88'];
                                                    }
                                                    if(param.name=='89'){
                                                        return gjxx['89'];
                                                    }
                                                    if(param.name=='90'){
                                                        return gjxx['90'];
                                                    }
                                                    if(param.name=='91'){
                                                        return gjxx['91'];
                                                    }
                                                    if(param.name=='92'){
                                                        return gjxx['92'];
                                                    }
                                                    if(param.name=='93'){
                                                        return gjxx['93'];
                                                    }
                                                    if(param.name=='94'){
                                                        return gjxx['94'];
                                                    }
                                                    if(param.name=='95'){
                                                        return gjxx['95'];
                                                    }
                                                    if(param.name=='96'){
                                                        return gjxx['96'];
                                                    }
                                                    if(param.name=='97'){
                                                        return gjxx['97'];
                                                    }
                                                    if(param.name=='98'){
                                                        return gjxx['98'];
                                                    }
                                                    if(param.name=='99'){
                                                        return gjxx['99'];
                                                    }
                                                    if(param.name=='100'){
                                                        return gjxx['100'];
                                                    }
                                    //return param.data.category + ': ' + param.data.name;
                                    return param.data.name;
                                }
                            },
                        // backgroundColor: '#FFFFFF',
                        legend: {
                            show : true,
                            data : [ {
                                name : 'SYS_1',

                            },
                            {
                                name : 'SYS_2',

                            }, {
                                name : 'SYS_3',

                            },
                            {
                                name : 'SYS_4',

                            },
                            {
                                name : 'SYS_5',

                            },
                            {
                                name : 'SYS_6',

                            },
                            {
                                name : 'SYS_7',

                            },
                            {
                                name : 'SYS_8',

                            },
                            {
                                name : 'SYS_9',

                            },
                            {
                                name : 'SYS_10',

                            },],


                            type: 'scroll',
                            orient: 'vertical',
                            left: 0,
                            bottom: 0,
                            itemWidth: 10,
                            itemHeight: 10
                        },
                        animationDuration: 0,
                        animationEasingUpdate: 'quinticInOut',
                        series: [{
                            // name: '知识图谱',
                            type: 'graph',
                            layout: 'force',
                            focusNodeAdjacency: true,   // 是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。[ default: false ]
                                    force: {                // 力引导布局相关的配置项，力引导布局是模拟弹簧电荷模型在每两个节点之间添加一个斥力，每条边的两个节点之间添加一个引力，每次迭代节点会在各个斥力和引力的作用下移动位置，多次迭代后节点会静止在一个受力平衡的位置，达到整个模型的能量最小化。
                                                    // 力引导布局的结果有良好的对称性和局部聚合性，也比较美观。
                                repulsion: 1000,            // [ default: 50 ]节点之间的斥力因子(关系对象之间的距离)。支持设置成数组表达斥力的范围，此时不同大小的值会线性映射到不同的斥力。值越大则斥力越大
                                edgeLength: [150, 100]      // [ default: 30 ]边的两个节点之间的距离(关系对象连接线两端对象的距离,会根据关系对象值得大小来判断距离的大小)，
                                                            // 这个距离也会受 repulsion。支持设置成数组表达边长的范围，此时不同大小的值会线性映射到不同的长度。值越小则长度越长。如下示例:
                                                            // 值最大的边长度会趋向于 10，值最小的边长度会趋向于 50      edgeLength: [10, 50]
                            },
                            force: {
                                repulsion: 300,
                                gravity: 0.1,
                                edgeLength: 15,
                                layoutAnimation: true,
                            },
                            data: alldata,
                            links: alllink,
                            categories:[{},
                     {'name': 'SYS_1'},
                     {'name': 'SYS_2'},
                     {'name': 'SYS_3'},
                     {'name': 'SYS_4'},
                     {'name': 'SYS_5'},
                     {'name': 'SYS_6'},
                     {'name': 'SYS_7'},
                     {'name': 'SYS_8'},
                     {'name': 'SYS_9'},
                     {'name': 'SYS_10'}],
                            roam: true,
                            label: {
                                normal: {
                                    show: true,
                                    position: 'inside',
                                    formatter: '{b}',
                                    fontSize: 10,
                                    fontStyle: '600',
                                }
                            },
                            edgeSymbol: ['arrow'],                            // 'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。
                            edgeSymbolSize: [5, 12],
                            edgeLabel: {
                                normal: {
                                    textStyle: {
                                  //      color: "#000",
                                        fontSize: 100,
                                        // show: true
                                    }
                                }
                            },
                            lineStyle: {
                                normal: {
                                    opacity: 0.9,
                                    width: 1.5,
                                    curveness: 0
                                }
                            }
                        }]
                    };

                        // 使用刚指定的配置项和数据显示图表
                        jChart.setOption(option);
                     }
                     var keys_ = [];
                     for(var key_ in SankyData){
                         keys_.push(key_);
                     }
                     ZChart.on('click', function (params) {
                         if( params.data.name === undefined){
                             return;
                         }
                         console.log(params);
                         var name = 'node_' + params.data.name;
                         console.log(name);

                         var Keys = [];

                         for(var key in SankyData){
                             Keys.push(key);
                         }

                         if(SankyData[name] === undefined){
                             console.log("Keys:"+Keys.includes(name));
                             console.log("keys_:"+keys_.includes(name));
                         }
						 //console.log(SankyData[name]);
                         var zeroData = SankyData[name][0];
                         var oneData = SankyData[name][1];
                         var twoData = SankyData[name][2];
                         //console.log();
                         var zeroChart = echarts.init(document.getElementById('Zero'),'walden');
                         var oneChart = echarts.init(document.getElementById('One'),'walden');
                         var twoChart = echarts.init(document.getElementById('Two'),'walden');
                         var zeroOption = {
                             title:{
                                 text: name+'节点告警'
                             },
							   tooltip: {
									trigger: "item",
									triggerOn: "mousemove"
							   },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",
								 right:0,
                                 focusNodeAdjacency: 'allEdges',
                                 data: zeroData.data,
                                 links: zeroData.link,
								 orient: "vertical",
								 label: {
								 	show: true,
								 	position: "insideLeft",
								 	rotate: 35,
								 	distance: 5
								 }
                             },
							
                         };
                         zeroChart.setOption(zeroOption);
						 
                         var twoOption = {
                             title:{
                                 text: name+'两跳以内节点告警'
                             },
							 tooltip: {
							 	trigger: "item",
							 	triggerOn: "mousemove",
							 },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",
								 
                                 focusNodeAdjacency: 'allEdges',
                                 data: twoData.data,
                                 links: twoData.link,
								 orient: "vertical",
									label: {
									  show: true,
									  position: "insideLeft",
									  rotate: 35,
									  distance: 5
									}
                             },
							 
                         };
                         twoChart.setOption(twoOption);
						 
                         var oneOption = {
                              title:{
                                 text: name+'一跳以内节点告警'
                             },
							 tooltip: {
							 	trigger: "item",
							 	triggerOn: "mousemove",
							 },
                             series: {
                                 type: 'sankey',
                                 layout: 'none',
								 top:"15%",
								
                                 focusNodeAdjacency: 'allEdges',
                                 data: oneData.data,
                                 links: oneData.link,
								 orient: "vertical",
								 label: {
								 	show: true,
								 	position: "insideLeft",
								 	rotate: 35,
								 	distance: 5
								 }
                             },
							 
                         };
                         oneChart.setOption(oneOption);

                         	 //局部拓扑绘制
                 {

                            var returnlist = Data['Jtopo'];
                            var root=name;

                            var root_gj=name;
                            //console.log(returnlist['ztalldata']);
                            var alldata=returnlist[params.name]['alldata'];

                            console.log(alllink);
                        var gjxx=returnlist['gjxx'];

                        var	option = {
                        title: {
                            text: name+"两跳以内拓扑图",
                            top: "top",
                            left: "left",

                        },
                        tooltip: {                  // 提示框的配置
                                formatter: function(param) {
                                    if (param.dataType === 'edge') {
                                        // return param.data.category + ': ' + param.data.target;
                                        // return param.data.target;
                                        // return '{b}';
                                    }
                                    if(param.name===root){
                                        return root_gj;
                                    }
                                    if(param.name==='0'){
                                                        return gjxx['0'];
                                                    }
                                                    if(param.name==='1'){
                                                        return gjxx['1'];
                                                    }
                                                    if(param.name==='2'){
                                                        return gjxx['2'];
                                                    }
                                                    if(param.name==='3'){
                                                        return gjxx['3'];
                                                    }
                                                    if(param.name==='4'){
                                                        return gjxx['4'];
                                                    }
                                                    if(param.name==='5'){
                                                        return gjxx['5'];
                                                    }
                                                    if(param.name==='6'){
                                                        return gjxx['6'];
                                                    }
                                                    if(param.name==='7'){
                                                        return gjxx['7'];
                                                    }
                                                    if(param.name==='8'){
                                                        return gjxx['8'];
                                                    }
                                                    if(param.name==='9'){
                                                        return gjxx['9'];
                                                    }
                                                    if(param.name==='10'){
                                                        return gjxx['10'];
                                                    }
                                                    if(param.name==='11'){
                                                        return gjxx['11'];
                                                    }
                                                    if(param.name=='12'){
                                                        return gjxx['12'];
                                                    }
                                                    if(param.name=='13'){
                                                        return gjxx['13'];
                                                    }
                                                    if(param.name=='14'){
                                                        return gjxx['14'];
                                                    }
                                                    if(param.name=='15'){
                                                        return gjxx['15'];
                                                    }
                                                    if(param.name=='16'){
                                                        return gjxx['16'];
                                                    }
                                                    if(param.name=='17'){
                                                        return gjxx['17'];
                                                    }
                                                    if(param.name=='18'){
                                                        return gjxx['18'];
                                                    }
                                                    if(param.name=='19'){
                                                        return gjxx['19'];
                                                    }
                                                    if(param.name=='20'){
                                                        return gjxx['20'];
                                                    }
                                                    if(param.name=='21'){
                                                        return gjxx['21'];
                                                    }
                                                    if(param.name=='22'){
                                                        return gjxx['22'];
                                                    }
                                                    if(param.name=='23'){
                                                        return gjxx['23'];
                                                    }
                                                    if(param.name=='24'){
                                                        return gjxx['24'];
                                                    }
                                                    if(param.name=='25'){
                                                        return gjxx['25'];
                                                    }
                                                    if(param.name=='26'){
                                                        return gjxx['26'];
                                                    }
                                    if(param.name=='27'){
                                                        return gjxx['27'];
                                                    }
                                                    if(param.name=='28'){
                                                        return gjxx['28'];
                                                    }
                                                    if(param.name=='29'){
                                                        return gjxx['29'];
                                                    }
                                                    if(param.name=='30'){
                                                        return gjxx['30'];
                                                    }
                                                    if(param.name=='31'){
                                                        return gjxx['31'];
                                                    }
                                                    if(param.name=='32'){
                                                        return gjxx['32'];
                                                    }
                                                    if(param.name=='33'){
                                                        return gjxx['33'];
                                                    }
                                                    if(param.name=='34'){
                                                        return gjxx['34'];
                                                    }
                                                    if(param.name=='35'){
                                                        return gjxx['35'];
                                                    }
                                                    if(param.name=='36'){
                                                        return gjxx['36'];
                                                    }
                                                    if(param.name=='37'){
                                                        return gjxx['37'];
                                                    }
                                                    if(param.name=='38'){
                                                        return gjxx['38'];
                                                    }
                                                    if(param.name=='39'){
                                                        return gjxx['39'];
                                                    }
                                                    if(param.name=='40'){
                                                        return gjxx['40'];
                                                    }
                                                    if(param.name=='41'){
                                                        return gjxx['41'];
                                                    }
                                                    if(param.name=='42'){
                                                        return gjxx['42'];
                                                    }
                                                    if(param.name=='43'){
                                                        return gjxx['43'];
                                                    }
                                                    if(param.name=='44'){
                                                        return gjxx['44'];
                                                    }
                                                    if(param.name=='45'){
                                                        return gjxx['45'];
                                                    }
                                                    if(param.name=='46'){
                                                        return gjxx['46'];
                                                    }
                                                    if(param.name=='47'){
                                                        return gjxx['47'];
                                                    }
                                                    if(param.name=='48'){
                                                        return gjxx['48'];
                                                    }
                                                    if(param.name=='49'){
                                                        return gjxx['49'];
                                                    }
                                                    if(param.name=='50'){
                                                        return gjxx['50'];
                                                    }
                                                    if(param.name=='51'){
                                                        return gjxx['51'];
                                                    }
                                                    if(param.name=='52'){
                                                        return gjxx['52'];
                                                    }
                                                    if(param.name=='53'){
                                                        return gjxx['53'];
                                                    }
                                                    if(param.name=='54'){
                                                        return gjxx['54'];
                                                    }
                                                    if(param.name=='55'){
                                                        return gjxx['55'];
                                                    }
                                                    if(param.name=='56'){
                                                        return gjxx['56'];
                                                    }
                                                    if(param.name=='57'){
                                                        return gjxx['57'];
                                                    }
                                                    if(param.name=='58'){
                                                        return gjxx['58'];
                                                    }
                                                    if(param.name=='59'){
                                                        return gjxx['59'];
                                                    }
                                                    if(param.name=='60'){
                                                        return gjxx['60'];
                                                    }
                                                    if(param.name=='61'){
                                                        return gjxx['61'];
                                                    }
                                                    if(param.name=='62'){
                                                        return gjxx['62'];
                                                    }
                                                    if(param.name=='63'){
                                                        return gjxx['63'];
                                                    }
                                                    if(param.name=='64'){
                                                        return gjxx['64'];
                                                    }
                                                    if(param.name=='65'){
                                                        return gjxx['65'];
                                                    }
                                                    if(param.name=='66'){
                                                        return gjxx['66'];
                                                    }
                                                    if(param.name=='67'){
                                                        return gjxx['67'];
                                                    }
                                                    if(param.name=='68'){
                                                        return gjxx['68'];
                                                    }
                                                    if(param.name=='69'){
                                                        return gjxx['69'];
                                                    }
                                                    if(param.name=='70'){
                                                        return gjxx['70'];
                                                    }
                                                    if(param.name=='71'){
                                                        return gjxx['71'];
                                                    }
                                                    if(param.name=='72'){
                                                        return gjxx['72'];
                                                    }
                                                    if(param.name=='73'){
                                                        return gjxx['73'];
                                                    }
                                                    if(param.name=='74'){
                                                        return gjxx['74'];
                                                    }
                                                    if(param.name=='75'){
                                                        return gjxx['75'];
                                                    }
                                                    if(param.name=='76'){
                                                        return gjxx['76'];
                                                    }
                                                    if(param.name=='77'){
                                                        return gjxx['77'];
                                                    }
                                                    if(param.name=='78'){
                                                        return gjxx['78'];
                                                    }
                                                    if(param.name=='79'){
                                                        return gjxx['79'];
                                                    }
                                                    if(param.name=='80'){
                                                        return gjxx['80'];
                                                    }
                                                    if(param.name=='81'){
                                                        return gjxx['81'];
                                                    }
                                                    if(param.name=='82'){
                                                        return gjxx['82'];
                                                    }
                                                    if(param.name=='83'){
                                                        return gjxx['83'];
                                                    }
                                                    if(param.name=='84'){
                                                        return gjxx['84'];
                                                    }
                                                    if(param.name=='85'){
                                                        return gjxx['85'];
                                                    }
                                                    if(param.name=='86'){
                                                        return gjxx['86'];
                                                    }
                                                    if(param.name=='87'){
                                                        return gjxx['87'];
                                                    }
                                                    if(param.name=='88'){
                                                        return gjxx['88'];
                                                    }
                                                    if(param.name=='89'){
                                                        return gjxx['89'];
                                                    }
                                                    if(param.name=='90'){
                                                        return gjxx['90'];
                                                    }
                                                    if(param.name=='91'){
                                                        return gjxx['91'];
                                                    }
                                                    if(param.name=='92'){
                                                        return gjxx['92'];
                                                    }
                                                    if(param.name=='93'){
                                                        return gjxx['93'];
                                                    }
                                                    if(param.name=='94'){
                                                        return gjxx['94'];
                                                    }
                                                    if(param.name=='95'){
                                                        return gjxx['95'];
                                                    }
                                                    if(param.name=='96'){
                                                        return gjxx['96'];
                                                    }
                                                    if(param.name=='97'){
                                                        return gjxx['97'];
                                                    }
                                                    if(param.name=='98'){
                                                        return gjxx['98'];
                                                    }
                                                    if(param.name=='99'){
                                                        return gjxx['99'];
                                                    }
                                                    if(param.name=='100'){
                                                        return gjxx['100'];
                                                    }
                                    //return param.data.category + ': ' + param.data.name;
                                    return param.data.name;
                                }
                            },
                        // backgroundColor: '#FFFFFF',
                        legend: {
                            show : true,
                            data : [ {
                                name : 'SYS_1',

                            },
                            {
                                name : 'SYS_2',

                            }, {
                                name : 'SYS_3',

                            },
                            {
                                name : 'SYS_4',

                            },
                            {
                                name : 'SYS_5',

                            },
                            {
                                name : 'SYS_6',

                            },
                            {
                                name : 'SYS_7',

                            },
                            {
                                name : 'SYS_8',

                            },
                            {
                                name : 'SYS_9',

                            },
                            {
                                name : 'SYS_10',

                            },],


                            type: 'scroll',
                            orient: 'vertical',
                            left: 0,
                            bottom: 0,
                            itemWidth: 10,
                            itemHeight: 10
                        },
                        animationDuration: 0,
                        animationEasingUpdate: 'quinticInOut',
                        series: [{
                            name: '知识图谱',
                            type: 'graph',
                            layout: 'force',
                            focusNodeAdjacency: true,   // 是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。[ default: false ]
                                    force: {                // 力引导布局相关的配置项，力引导布局是模拟弹簧电荷模型在每两个节点之间添加一个斥力，每条边的两个节点之间添加一个引力，每次迭代节点会在各个斥力和引力的作用下移动位置，多次迭代后节点会静止在一个受力平衡的位置，达到整个模型的能量最小化。
                                                    // 力引导布局的结果有良好的对称性和局部聚合性，也比较美观。
                                repulsion: 1000,            // [ default: 50 ]节点之间的斥力因子(关系对象之间的距离)。支持设置成数组表达斥力的范围，此时不同大小的值会线性映射到不同的斥力。值越大则斥力越大
                                edgeLength: [150, 100]      // [ default: 30 ]边的两个节点之间的距离(关系对象连接线两端对象的距离,会根据关系对象值得大小来判断距离的大小)，
                                                            // 这个距离也会受 repulsion。支持设置成数组表达边长的范围，此时不同大小的值会线性映射到不同的长度。值越小则长度越长。如下示例:
                                                            // 值最大的边长度会趋向于 10，值最小的边长度会趋向于 50      edgeLength: [10, 50]
                            },
                            force: {
                                repulsion: 300,
                                gravity: 0.1,
                                edgeLength: 15,
                                layoutAnimation: true,
                            },
                            data: alldata,
                            links: alllink,
                            categories:[{},
                     {'name': 'SYS_1'},
                     {'name': 'SYS_2'},
                     {'name': 'SYS_3'},
                     {'name': 'SYS_4'},
                     {'name': 'SYS_5'},
                     {'name': 'SYS_6'},
                     {'name': 'SYS_7'},
                     {'name': 'SYS_8'},
                     {'name': 'SYS_9'},
                     {'name': 'SYS_10'}],
                            roam: true,
                            label: {
                                normal: {
                                    show: true,
                                    position: 'inside',
                                    formatter: '{b}',
                                    fontSize: 10,
                                //    fontStyle: '600',
                                }
                            },
                            edgeSymbol: ['arrow'],                            // 'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。
                            edgeSymbolSize: [5, 12],
                            edgeLabel: {
                                normal: {
                                    textStyle: {
                                //        color: "#000",
                                        fontSize: 100,
                                        show: true
                                    }
                                }
                            },
                            lineStyle: {
                                normal: {
                                    opacity: 0.9,
                                    width: 1.5,
                                    curveness: 0
                                }
                            }
                        }]
                    };

                        // 使用刚指定的配置项和数据显示图表
                        jChart.setOption(option);
                     }
                     });
                 }

             },
             error: function (msg) {
                 console.log(msg);
                 alert('系统发生错误');
             }
         });
        console.log("finished!!!");
     }

</script>
<script type="text/javascript">
    function EnterPress() {
        if(event.keyCode == 13){
            $('.search-model').fadeOut(400, function () {

                getData($('#search-input').val());

			//$('#search-input').val();
        });
        }

    }
</script>

</html>

